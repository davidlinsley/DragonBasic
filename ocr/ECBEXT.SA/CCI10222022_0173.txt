PAGE  024  ECBEXT  .SA:1  EXTEND RENUM - Renumber a BASIC program

02135P 0561 9F   D3               STX    FSTPTR   A NEW POINTER TO WHERE RENUMBERING
02136                      *    STARTS.
02137P 0563 BD   3A   059F        BSR    SCNPRG   SCAN THE ENTIRE PROGRAm CONVERTING
02138                      *    BINARY LINE NUMBER TOKENS TO LINE
02139                      *    POINTER TOKENS.
02140P 0565 SD   OF   0576        BSR    PUTNMS   ASSIGN THE NEW LINE NUMBERS.
02141P 0567 SD   36   059F        BSR    SCNPRG   SCAN THE ENTIRE PROGRAM CONVERTING
02142                      *    POINTER TOKENS TO BINARY LINE NUMBER
02143                      *    TOKENS CONTAINING THE NEW NUMBERS.
02144P 0569 BD   0689             JSR    ASCBIN   TYPE MESSAGE FOR ALL UNDEFINED LINE
02145                      *    REFERENCE TOKENS. CONVERT ALL
02146                      *    UNDEFINED LINE REFERENCE AND BINARY
02147                      *    LINE NUMBER TOKENS TO ASCII.
02148P 056C BD   0000    A        JSR    CLEARC   SET UP 'ARYTAB" AND "STREND".
02149P 056F BD   0000    A        JSR    CHEADA   FIX UP THE LINKS.
02150P 0572 7E   0000    A        JMP    READY    ALL DONE.
